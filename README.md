# Система мультимодального анализа и поиска видеоконтента по пользовательским запросам.

## Что делает?
- Индексирует видео с извлечением фреймов (кадров) и аудио;
- Создает мультимодальные эмбеддинги для фреймов, аудио и текста;
- Осуществляет семантический и гибридный поиски с использованием векторной БД Qdrant;
    
## Модули системы:
1. **Модуль обработки видео (`video_processor`)** - извлекает кадры и аудио из видео, транскрибирует аудио в текст;
2. **Модуль эмбеддингов (`embedding`)** - создает векторные представления для видео и текста (из аудио);
3. **Модуль векторной БД (`vectordb`)** - хранит и индексирует эмбеддинги в Qdrant, выполняет поиск;
4. **API (`api`)** - API для поиска видео.
5. **streamlit_app.py** - веб-интерфейс на Streamlit

## Архитектура:
1. Python - для обработки видео и создания эмбеддингов;
2. Qdrant - хранение эмбеддингов и осуществление поиска по ним;
3. FastAPI - api для обмена информацией между qdrant и веб-интерфейсом;
4. Streamlit - веб-интерфейс для удобства пользователей.

## Прочие важные директории:
1. logs - логи модулей qdrant, api, streamlit
2. vectordb - снапшот векторной БД на момент последнего запуска
3. video_examples - локальное хранилище для готовых видео
4. video_examples_raw - локальное хранилище для необработанных видео
5. presentation - презентация проекта и пример работы сервиса

## Как запустить приложение:
1. Склонировать себе на машину, на машине иметь docker, и любую IDE для запуска python-приложений (в моем случае был pycharm);
2. Устанавливаем все зависимости: `pip install -r requirements.txt`
3. Билдим и запускаем контейнер: `docker-compose up -d`
4. (При необходимости) Можем сделать индексацию видео через терминал: `docker-compose exec api python main.py --mode index --videos_dir /app/video_examples`

## Куда смотреть после запуска:
1. Qdrant: http://localhost:6333/dashboard#/collections
2. API: http://localhost:8000/docs
3. Streamlit: http://localhost:8501/

**Автор проекта:** Панфиленко В.В.